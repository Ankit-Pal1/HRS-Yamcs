<?xml version="1.0" encoding="UTF-8"?>
<SpaceSystem name="PUS">
    <Header validationStatus="Unknown" version="1.0" date="2020-07-01T16:48:10Z"/>
    <TelemetryMetaData>
      <ParameterTypeSet>
        <IntegerParameterType signed="false" name="uint4">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="4"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint8">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="8"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint11">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="11"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint12">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="12"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint14">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="14"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint16">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="16"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint24">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="24"/>
        </IntegerParameterType>
        <IntegerParameterType signed="false" name="uint32">
          <IntegerDataEncoding encoding="unsigned" sizeInBits="32"/>
        </IntegerParameterType>
      </ParameterTypeSet>
      <ParameterSet>
        <Parameter parameterTypeRef="uint11" name="apid"/>
        <Parameter parameterTypeRef="uint14" name="seqcount"/>
        <Parameter parameterTypeRef="uint8" name="type"/>
        <Parameter parameterTypeRef="uint8" name="subtype"/>
        <Parameter parameterTypeRef="uint16" name="counter"/>
        <Parameter parameterTypeRef="uint16" name="destination"/>
        <Parameter parameterTypeRef="uint8" name="time-rate"/>
        <Parameter parameterTypeRef="uint8" name="time-type"/>
        <Parameter parameterTypeRef="uint32" name="obt-coarse"/>
        <Parameter parameterTypeRef="uint24" name="obt-fine"/>
        <Parameter parameterTypeRef="uint32" name="hkid"/>
      </ParameterSet>
      <ContainerSet>
        <SequenceContainer name="ccsds">
          <EntryList>
            <ParameterRefEntry parameterRef="apid">
              <LocationInContainerInBits referenceLocation="containerStart">
                <FixedValue>5</FixedValue>
              </LocationInContainerInBits>
            </ParameterRefEntry>
            <ParameterRefEntry parameterRef="seqcount">
              <LocationInContainerInBits referenceLocation="containerStart">
                <FixedValue>18</FixedValue>
              </LocationInContainerInBits>
            </ParameterRefEntry>
          </EntryList>
        </SequenceContainer>
        <SequenceContainer name = "pus-time">
            <EntryList>
                <ParameterRefEntry parameterRef="time-rate">
                  <LocationInContainerInBits referenceLocation="containerStart">
                    <FixedValue>48</FixedValue>
                  </LocationInContainerInBits>
                </ParameterRefEntry>
                <ParameterRefEntry parameterRef="time-type"/>
                <ParameterRefEntry parameterRef="obt-coarse"/>
                <ParameterRefEntry parameterRef="obt-fine"/>
            </EntryList>
            <BaseContainer containerRef="ccsds">
              <RestrictionCriteria>
                <Comparison parameterRef="apid" comparisonOperator="==" value="0"/>
              </RestrictionCriteria>
            </BaseContainer>
        </SequenceContainer>
        <SequenceContainer name = "pus-tm">
            <EntryList>
            <ParameterRefEntry parameterRef="type">
              <LocationInContainerInBits referenceLocation="containerStart">
                <FixedValue>56</FixedValue>
              </LocationInContainerInBits>
            </ParameterRefEntry>
            <ParameterRefEntry parameterRef="subtype"/>
            <ParameterRefEntry parameterRef="counter"/>
            <ParameterRefEntry parameterRef="destination"/>
            <ParameterRefEntry parameterRef="time-type"/>
            <ParameterRefEntry parameterRef="obt-coarse"/>
            <ParameterRefEntry parameterRef="obt-fine"/>
          </EntryList>
          <BaseContainer containerRef="ccsds">
              <RestrictionCriteria>
                <Comparison parameterRef="apid" comparisonOperator="!=" value="0"/>
              </RestrictionCriteria>
            </BaseContainer>
        </SequenceContainer>
       <SequenceContainer name = "hk">
           <BaseContainer containerRef="pus-tm">
              <RestrictionCriteria>
                <Comparison parameterRef="type" comparisonOperator="==" value="3"/>
              </RestrictionCriteria>
            </BaseContainer>
        </SequenceContainer>
        <SequenceContainer name = "hk25">
           <AncillaryDataSet>
              <AncillaryData name="Yamcs" mimeType="text/plain">UseAsArchivingPartition</AncillaryData>
            </AncillaryDataSet>
           <EntryList>
              <ParameterRefEntry parameterRef="hkid"/>
           </EntryList>
           <BaseContainer containerRef="hk">
              <RestrictionCriteria>
                <Comparison parameterRef="subtype" comparisonOperator="==" value="25"/>
              </RestrictionCriteria>
            </BaseContainer>
        </SequenceContainer>

      </ContainerSet>
    </TelemetryMetaData>
 </SpaceSystem>
